{"version":3,"sources":["views/app-views/editProfile/index.js"],"names":["EditProfile","state","name","email","userName","phoneNumber","website","address","city","avatarUrl","loading","handleSaveChanges","values","key","message","content","setTimeout","success","duration","props","history","push","APP_PREFIX_PATH","userId","this","match","params","fetch","then","response","ok","Error","json","data","setState","username","phone","street","catch","error","img","callback","reader","FileReader","addEventListener","result","readAsDataURL","alignItems","mobileFlex","className","size","src","icon","onChange","info","file","status","getBase64","originFileObj","imageUrl","showUploadList","type","onClick","layout","initialValues","onFinish","onFinishFailed","errorInfo","console","log","xs","sm","md","lg","gutter","ROW_GUTTER","Item","label","rules","required","htmlType","Component"],"mappings":"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","file":"static/js/19.03897548.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Form, Avatar, Button, Input, Row, Col, message, Upload } from 'antd';\nimport { UserOutlined } from '@ant-design/icons';\nimport { ROW_GUTTER } from 'constants/ThemeConstant';\nimport Flex from 'components/shared-components/Flex';\nimport { APP_PREFIX_PATH } from 'configs/AppConfig'\n\nexport class EditProfile extends Component {\n    state = {\n        name: '',\n        email: '',\n        userName: '',\n        phoneNumber: '',\n        website: '',\n        address: '',\n        city: '',\n        avatarUrl: '',\n        loading: true,\n    };\n\n    componentDidMount() {\n        const { match } = this.props;\n        const { userId } = match.params;\n\n\t\tfetch(`https://jsonplaceholder.typicode.com/users/${userId}`)\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error('Network response was not ok');\n                }\n                return response.json();\n            })\n            .then(data => {\n                this.setState({\n                    name: data.name,\n                    email: data.email,\n                    userName: data.username,\n                    phoneNumber: data.phone,\n                    website: data.website,\n                    address: data.address.street,\n                    city: data.address.city,\n                    loading: false,\n                });\n            })\n            .catch(error => {\n                message.error('Ошибка загрузки данных пользователя');\n                this.setState({ loading: false });\n            });\n    }\n\n    getBase64(img, callback) {\n        const reader = new FileReader();\n        reader.addEventListener('load', () => callback(reader.result));\n        reader.readAsDataURL(img);\n    }\n\n\thandleSaveChanges = values => {\n        const key = 'updatable';\n        message.loading({ content: 'Saving changes...', key });\n\n        setTimeout(() => {\n            message.success({ content: 'Changes saved!', key, duration: 2 });\n\n            this.props.history.push(`${APP_PREFIX_PATH}/users/user-list`);\n        }, 2000);\n    };\n\n    render() {\n\t\tconst { loading, name, email, userName, phoneNumber, website, address, city, avatarUrl } = this.state;\n\n        if (loading) {\n            return <div>Loading...</div>;\n        }\n        const onFinishFailed = errorInfo => {\n            console.log('Failed:', errorInfo);\n        };\n\n        const onUploadAvatar = info => {\n            const key = 'updatable';\n            if (info.file.status === 'uploading') {\n                message.loading({ content: 'Uploading...', key, duration: 1000 });\n                return;\n            }\n            if (info.file.status === 'done') {\n                this.getBase64(info.file.originFileObj, imageUrl =>\n                    this.setState({\n                        avatarUrl: imageUrl,\n                    }),\n                );\n                message.success({ content: 'Uploaded!', key, duration: 1.5 });\n            }\n        };\n\n        const onRemoveAvatar = () => {\n            this.setState({\n                avatarUrl: ''\n            });\n        };\n\n        return (\n            <>\n                <Flex alignItems=\"center\" mobileFlex={false} className=\"text-center text-md-left\">\n                    <Avatar size={90} src={avatarUrl} icon={<UserOutlined />} />\n                    <div className=\"ml-md-3 mt-md-0 mt-3\">\n                        <Upload onChange={onUploadAvatar} showUploadList={false}>\n                            <Button type=\"primary\">Change Avatar</Button>\n                        </Upload>\n                        <Button className=\"ml-2\" onClick={onRemoveAvatar}>Remove</Button>\n                    </div>\n                </Flex>\n                <div className=\"mt-4\">\n                    <Form\n                        name=\"basicInformation\"\n                        layout=\"vertical\"\n                        initialValues={{\n                            name: name,\n                            email: email,\n                            username: userName,\n                            phoneNumber: phoneNumber,\n                            website: website,\n                            address: address,\n                            city: city,\n                        }}\n                        onFinish={this.handleSaveChanges}\n                        onFinishFailed={onFinishFailed}\n                    >\n                        <Row>\n                            <Col xs={24} sm={24} md={24} lg={16}>\n                                <Row gutter={ROW_GUTTER}>\n                                    <Col xs={24} sm={24} md={12}>\n                                        <Form.Item\n                                            label=\"Name\"\n                                            name=\"name\"\n                                            rules={[{ required: true, message: 'Please input your name!' }]}\n                                        >\n                                            <Input />\n                                        </Form.Item>\n                                    </Col>\n                                    <Col xs={24} sm={24} md={12}>\n                                        <Form.Item\n                                            label=\"Username\"\n                                            name=\"username\"\n                                            rules={[{ required: true, message: 'Please input your username!' }]}\n                                        >\n                                            <Input />\n                                        </Form.Item>\n                                    </Col>\n                                    <Col xs={24} sm={24} md={12}>\n                                        <Form.Item\n                                            label=\"Email\"\n                                            name=\"email\"\n                                            rules={[{ \n                                                required: true,\n                                                type: 'email',\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: 'Please enter a valid email!' \n                                            }]}\n                                        >\n                                            <Input />\n                                        </Form.Item>\n                                    </Col>\n                                    <Col xs={24} sm={24} md={12}>\n                                        <Form.Item\n                                            label=\"Phone Number\"\n                                            name=\"phoneNumber\"\n                                        >\n                                            <Input />\n                                        </Form.Item>\n                                    </Col>\n                                    <Col xs={24} sm={24} md={12}>\n                                        <Form.Item\n                                            label=\"Website\"\n                                            name=\"website\"\n                                        >\n                                            <Input />\n                                        </Form.Item>\n                                    </Col>\n                                    <Col xs={24} sm={24} md={24}>\n                                        <Form.Item\n                                            label=\"Address\"\n                                            name=\"address\"\n                                        >\n                                            <Input />\n                                        </Form.Item>\n                                    </Col>\n                                    <Col xs={24} sm={24} md={12}>\n                                        <Form.Item\n                                            label=\"City\"\n                                            name=\"city\"\n                                        >\n                                            <Input />\n                                        </Form.Item>\n                                    </Col>\n                                </Row>\n                                <Button type=\"primary\" htmlType=\"submit\">\n                                    Save Changes\n                                </Button>\n                            </Col>\n                        </Row>\n                    </Form>\n                </div>\n            </>\n        );\n    }\n}\n\nexport default EditProfile;"],"sourceRoot":""}